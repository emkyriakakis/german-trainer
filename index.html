<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>German Trainer â€“ Smart Grammar</title>

<style>
:root {
  --bg:#f4f6f8;
  --card:#ffffff;
  --text:#222;
  --primary:#2563eb;
  --correct:#16a34a;
  --wrong:#dc2626;
}

body {
  margin:0;
  font-family:Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
}

header {
  background:var(--primary);
  color:white;
  padding:16px;
  text-align:center;
}

main {
  max-width:600px;
  margin:auto;
  padding:20px;
}

.card {
  background:var(--card);
  padding:20px;
  border-radius:12px;
  box-shadow:0 6px 15px rgba(0,0,0,0.1);
  animation:slideIn .4s ease;
}

input {
  width:100%;
  padding:10px;
  margin-top:10px;
  font-size:16px;
}

button {
  margin-top:12px;
  padding:10px 16px;
  font-size:16px;
  background:var(--primary);
  color:white;
  border:none;
  border-radius:6px;
  cursor:pointer;
}

#feedback {
  margin-top:12px;
  font-weight:bold;
  animation:fadeIn .3s ease;
}

@keyframes slideIn {
  from {opacity:0; transform:translateX(20px);}
  to {opacity:1; transform:translateX(0);}
}

@keyframes fadeIn {
  from {opacity:0;}
  to {opacity:1;}
}
</style>
</head>

<body>

<header>
  <h1>ðŸ‡©ðŸ‡ª German Trainer</h1>
  <p>Smart Grammar Generator (B1â€“C1)</p>
</header>

<main>
  <div class="card" id="card">
    <h2 id="level"></h2>
    <p id="question"></p>

    <input id="answer" placeholder="Type your answer and press Enter">

    <button onclick="handleAction()" id="actionBtn">Check</button>

    <div id="feedback"></div>
  </div>
</main>

<script>
let mode = "check";
let current = null;

/* ðŸ§  SMART GRAMMAR GENERATOR */
const grammarPool = [
  { level:"B1", q:"Ich ___ mehr Deutsch lernen.", a:"mÃ¶chte" },
  { level:"B1", q:"Er bleibt zu Hause, ___ es regnet.", a:"weil" },
  { level:"B1", q:"Gestern ___ ich lange gearbeitet.", a:"habe" },

  { level:"B2", q:"Wenn ich mehr Zeit ___, wÃ¼rde ich reisen.", a:"hÃ¤tte" },
  { level:"B2", q:"Er tut so, ___ ob er alles wÃ¼sste.", a:"als" },
  { level:"B2", q:"Das ist der Mann, ___ Auto gestohlen wurde.", a:"dessen" },

  { level:"C1", q:"Kaum ___ er angekommen, begann das Meeting.", a:"war" },
  { level:"C1", q:"Nicht nur ___ er klug, sondern auch hÃ¶flich.", a:"ist" },
  { level:"C1", q:"Je mehr man Ã¼bt, ___ besser wird man.", a:"desto" }
];

function randomExercise() {
  return grammarPool[Math.floor(Math.random() * grammarPool.length)];
}

function loadExercise() {
  current = randomExercise();
  document.getElementById("level").innerText = "Level: " + current.level;
  document.getElementById("question").innerText = current.q;
  document.getElementById("answer").value = "";
  document.getElementById("feedback").innerText = "";
  document.getElementById("actionBtn").innerText = "Check";
  mode = "check";
}

function handleAction() {
  if (mode === "check") checkAnswer();
  else loadExercise();
}

function checkAnswer() {
  const user = document.getElementById("answer").value.trim();
  const fb = document.getElementById("feedback");

  if (user.toLowerCase() === current.a.toLowerCase()) {
    fb.style.color = "var(--correct)";
    fb.innerHTML = "âœ” Correct!";
  } else {
    fb.style.color = "var(--wrong)";
    fb.innerHTML = `âœ˜ Correct answer: <b>${current.a}</b>`;
  }

  document.getElementById("actionBtn").innerText = "Next";
  mode = "next";
}

/* ENTER KEY LOGIC */
document.getElementById("answer").addEventListener("keydown", e => {
  if (e.key === "Enter") handleAction();
});

/* START */
loadExercise();
</script>

</body>
</html>
