<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>German Trainer â€“ Grammar & Vocabulary</title>

<style>
:root {
  --bg:#f4f6f8;
  --card:#ffffff;
  --text:#222;
  --primary:#2563eb;
  --correct:#16a34a;
  --wrong:#dc2626;
}

body {
  margin:0;
  font-family:Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
}

header {
  background:var(--primary);
  color:white;
  padding:16px;
  text-align:center;
}

main {
  max-width:600px;
  margin:auto;
  padding:20px;
}

.card {
  background:var(--card);
  padding:20px;
  border-radius:12px;
  box-shadow:0 6px 15px rgba(0,0,0,0.1);
  animation:slideIn .4s ease;
}

input {
  width:100%;
  padding:10px;
  margin-top:10px;
  font-size:16px;
}

button {
  margin-top:12px;
  padding:10px 16px;
  font-size:16px;
  background:var(--primary);
  color:white;
  border:none;
  border-radius:6px;
  cursor:pointer;
}

#feedback {
  margin-top:12px;
  font-weight:bold;
  animation:fadeIn .3s ease;
}

@keyframes slideIn {
  from {opacity:0; transform:translateX(20px);}
  to {opacity:1; transform:translateX(0);}
}

@keyframes fadeIn {
  from {opacity:0;}
  to {opacity:1;}
}
</style>
</head>

<body>

<header>
  <h1>ðŸ‡©ðŸ‡ª German Trainer</h1>
  <p>Grammar + Vocabulary â€¢ B1â€“C1</p>
</header>

<main>
  <div class="card">
    <h2 id="meta"></h2>
    <p id="question"></p>

    <input id="answer" placeholder="Type your answer and press Enter">

    <button onclick="handleAction()" id="actionBtn">Check</button>

    <div id="feedback"></div>
  </div>
</main>

<script>
let mode = "check";
let current = null;

/* ---------- GRAMMAR POOL ---------- */
const grammarPool = [
  { level:"B1", q:"Ich ___ mehr Deutsch lernen.", a:"mÃ¶chte" },
  { level:"B1", q:"Er bleibt zu Hause, ___ es regnet.", a:"weil" },
  { level:"B1", q:"Gestern ___ ich lange gearbeitet.", a:"habe" },

  { level:"B2", q:"Wenn ich mehr Zeit ___, wÃ¼rde ich reisen.", a:"hÃ¤tte" },
  { level:"B2", q:"Er tut so, ___ ob er alles wÃ¼sste.", a:"als" },

  { level:"C1", q:"Kaum ___ er angekommen, begann das Meeting.", a:"war" },
  { level:"C1", q:"Je mehr man Ã¼bt, ___ besser wird man.", a:"desto" }
];

/* ---------- VOCABULARY POOL ---------- */
const vocabPool = [
  { level:"B1", de:"arbeiten", en:"work" },
  { level:"B1", de:"der Alltag", en:"daily life" },
  { level:"B1", de:"die Pause", en:"break" },

  { level:"B2", de:"die Verantwortung", en:"responsibility" },
  { level:"B2", de:"vermeiden", en:"avoid" },

  { level:"C1", de:"die Voraussetzung", en:"prerequisite" },
  { level:"C1", de:"durchsetzen", en:"enforce" }
];

/* ---------- RANDOM GENERATOR ---------- */
function randomExercise() {
  if (Math.random() < 0.5) {
    const g = grammarPool[Math.floor(Math.random()*grammarPool.length)];
    return { type:"grammar", ...g };
  } else {
    const v = vocabPool[Math.floor(Math.random()*vocabPool.length)];
    return {
      type:"vocab",
      level:v.level,
      q:`What is the English meaning of: <b>${v.de}</b>?`,
      a:v.en
    };
  }
}

/* ---------- LOAD ---------- */
function loadExercise() {
  current = randomExercise();
  document.getElementById("meta").innerText =
    `${current.type === "grammar" ? "Grammar" : "Vocabulary"} â€¢ Level ${current.level}`;
  document.getElementById("question").innerHTML = current.q;
  document.getElementById("answer").value = "";
  document.getElementById("feedback").innerText = "";
  document.getElementById("actionBtn").innerText = "Check";
  mode = "check";
}

/* ---------- CHECK / NEXT ---------- */
function handleAction() {
  if (mode === "check") checkAnswer();
  else loadExercise();
}

function checkAnswer() {
  const user = document.getElementById("answer").value.trim().toLowerCase();
  const correct = current.a.toLowerCase();
  const fb = document.getElementById("feedback");

  if (user === correct) {
    fb.style.color = "var(--correct)";
    fb.innerHTML = "âœ” Correct!";
  } else {
    fb.style.color = "var(--wrong)";
    fb.innerHTML = `âœ˜ Correct answer: <b>${current.a}</b>`;
  }

  document.getElementById("actionBtn").innerText = "Next";
  mode = "next";
}

/* ---------- ENTER KEY ---------- */
document.getElementById("answer").addEventListener("keydown", e => {
  if (e.key === "Enter") handleAction();
});

/* ---------- START ---------- */
loadExercise();
</script>

</body>
</html>
